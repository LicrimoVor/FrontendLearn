"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[1425],{"./src/entities/Article/ui/ArticleList/ArticleList.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Dark:function(){return Dark},IsLoadingBig:function(){return IsLoadingBig},IsLoadingSmall:function(){return IsLoadingSmall},Light:function(){return Light},Red:function(){return Red},__namedExportsOrder:function(){return __namedExportsOrder}});var _shared_config_storybook_themeDecorator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/config/storybook/themeDecorator/index.ts"),_shared_lib_context_ThemeContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/lib/context/ThemeContext/index.ts"),_test_data_test__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/entities/Article/test/data.test.ts"),_model_consts_article__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/entities/Article/model/consts/article.ts"),_ArticleList__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/entities/Article/ui/ArticleList/ArticleList.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const meta={title:"entities/Article/ArticleList",component:_ArticleList__WEBPACK_IMPORTED_MODULE_4__.w,args:{isLoading:!1,articles:Array(10).fill(_test_data_test__WEBPACK_IMPORTED_MODULE_2__.d),Header:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:"Заголовок"})}};__webpack_exports__.default=meta;const Light={decorators:[(0,_shared_config_storybook_themeDecorator__WEBPACK_IMPORTED_MODULE_0__.W)(_shared_lib_context_ThemeContext__WEBPACK_IMPORTED_MODULE_1__.Q.LIGHT)]},Dark={decorators:[(0,_shared_config_storybook_themeDecorator__WEBPACK_IMPORTED_MODULE_0__.W)(_shared_lib_context_ThemeContext__WEBPACK_IMPORTED_MODULE_1__.Q.DARK)]},Red={decorators:[(0,_shared_config_storybook_themeDecorator__WEBPACK_IMPORTED_MODULE_0__.W)(_shared_lib_context_ThemeContext__WEBPACK_IMPORTED_MODULE_1__.Q.RED)]},IsLoadingSmall={args:{isLoading:!0,view:_model_consts_article__WEBPACK_IMPORTED_MODULE_3__.GA.SMALL,articles:[]}},IsLoadingBig={args:{isLoading:!0,view:_model_consts_article__WEBPACK_IMPORTED_MODULE_3__.GA.BIG,articles:[]}};Light.parameters={...Light.parameters,docs:{...Light.parameters?.docs,source:{originalSource:"{\n  decorators: [themeDecorator(Theme.LIGHT)]\n}",...Light.parameters?.docs?.source}}},Dark.parameters={...Dark.parameters,docs:{...Dark.parameters?.docs,source:{originalSource:"{\n  decorators: [themeDecorator(Theme.DARK)]\n}",...Dark.parameters?.docs?.source}}},Red.parameters={...Red.parameters,docs:{...Red.parameters?.docs,source:{originalSource:"{\n  decorators: [themeDecorator(Theme.RED)]\n}",...Red.parameters?.docs?.source}}},IsLoadingSmall.parameters={...IsLoadingSmall.parameters,docs:{...IsLoadingSmall.parameters?.docs,source:{originalSource:"{\n  args: {\n    isLoading: true,\n    view: ArticleView.SMALL,\n    articles: []\n  }\n}",...IsLoadingSmall.parameters?.docs?.source}}},IsLoadingBig.parameters={...IsLoadingBig.parameters,docs:{...IsLoadingBig.parameters?.docs,source:{originalSource:"{\n  args: {\n    isLoading: true,\n    view: ArticleView.BIG,\n    articles: []\n  }\n}",...IsLoadingBig.parameters?.docs?.source}}};const __namedExportsOrder=["Light","Dark","Red","IsLoadingSmall","IsLoadingBig"]},"./src/entities/Article/ui/ArticleList/ArticleList.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{w:function(){return ArticleList}});var react=__webpack_require__("./node_modules/react/index.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),dist=__webpack_require__("./node_modules/react-virtuoso/dist/index.mjs"),classNames=__webpack_require__("./src/shared/lib/classNames/classNames.ts"),userInitialEffect=__webpack_require__("./src/shared/lib/hooks/userInitialEffect/index.ts"),Text=__webpack_require__("./src/shared/ui/Text/index.ts"),article=__webpack_require__("./src/entities/Article/model/consts/article.ts"),ArticleListItem=__webpack_require__("./src/entities/Article/ui/ArticleListItem/ArticleListItem.tsx"),Card=__webpack_require__("./src/shared/ui/Card/index.ts"),Skeleton=__webpack_require__("./src/shared/ui/Skeleton/index.ts"),ArticleListItem_module=__webpack_require__("./src/entities/Article/ui/ArticleListItem/ArticleListItem.module.scss"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const ArticleListItemSceleton=(0,react.memo)((props=>{const{className:className,view:view}=props;return view===article.GA.BIG?(0,jsx_runtime.jsx)("div",{className:(0,classNames.A)(ArticleListItem_module.Z.ArticleListItem,{},[className,ArticleListItem_module.Z[view]]),children:(0,jsx_runtime.jsxs)(Card.Z,{children:[(0,jsx_runtime.jsxs)("div",{className:ArticleListItem_module.Z.header,children:[(0,jsx_runtime.jsx)(Skeleton.O,{width:30,height:30,border:"50%"}),(0,jsx_runtime.jsx)(Skeleton.O,{width:150,height:32,className:ArticleListItem_module.Z.username}),(0,jsx_runtime.jsx)(Skeleton.O,{width:100,height:16,className:ArticleListItem_module.Z.createdAt})]}),(0,jsx_runtime.jsx)(Skeleton.O,{width:250,height:32,className:ArticleListItem_module.Z.title}),(0,jsx_runtime.jsx)(Skeleton.O,{height:200,className:ArticleListItem_module.Z.img}),(0,jsx_runtime.jsx)("div",{className:ArticleListItem_module.Z.footer,children:(0,jsx_runtime.jsx)(Skeleton.O,{height:32,width:200})})]})}):(0,jsx_runtime.jsx)("div",{className:(0,classNames.A)(ArticleListItem_module.Z.ArticleListItem,{},[className,ArticleListItem_module.Z[view]]),children:(0,jsx_runtime.jsxs)(Card.Z,{children:[(0,jsx_runtime.jsx)("div",{className:ArticleListItem_module.Z.imageWrapper,children:(0,jsx_runtime.jsx)(Skeleton.O,{width:200,height:200,className:ArticleListItem_module.Z.img})}),(0,jsx_runtime.jsx)("div",{className:ArticleListItem_module.Z.infoWrapper,children:(0,jsx_runtime.jsx)(Skeleton.O,{width:130,height:16})}),(0,jsx_runtime.jsx)(Skeleton.O,{width:150,height:16,className:ArticleListItem_module.Z.title})]})})}));try{ArticleListItemSceleton.displayName="ArticleListItemSceleton",ArticleListItemSceleton.__docgenInfo={description:"Докстринг",displayName:"ArticleListItemSceleton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"BIG"'},{value:'"SMALL"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/Article/ui/ArticleListItem/ArticleListItemSceleton.tsx#ArticleListItemSceleton"]={docgenInfo:ArticleListItemSceleton.__docgenInfo,name:"ArticleListItemSceleton",path:"src/entities/Article/ui/ArticleListItem/ArticleListItemSceleton.tsx#ArticleListItemSceleton"})}catch(__react_docgen_typescript_loader_error){}var injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),ArticleList_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/entities/Article/ui/ArticleList/ArticleList.module.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ArticleList_module.Z,options);var ArticleList_ArticleList_module=ArticleList_module.Z&&ArticleList_module.Z.locals?ArticleList_module.Z.locals:void 0;const getSkeletons=(view,countSceleton)=>new Array(countSceleton).fill(0).map(((_,index)=>(0,jsx_runtime.jsx)(ArticleListItemSceleton,{className:ArticleList_ArticleList_module.card,view:view},index))),ArticleList=(0,react.memo)((props=>{const{className:className,articles:articles=[],isLoading:isLoading,view:view=article.GA.SMALL,target:target,Header:Header,onLoadNextPart:onLoadNextPart,initialArticleIndex:initialArticleIndex,countSceleton:countSceleton=(view===article.GA.BIG?3:10)}=props,{t:t}=(0,useTranslation.$)("article"),virtuosoGridRef=(0,react.useRef)(null);(0,userInitialEffect.Q)((()=>{let timmer;return view===article.GA.SMALL&&initialArticleIndex&&(timmer=setTimeout((()=>{virtuosoGridRef.current?.scrollToIndex(initialArticleIndex.index)}),100)),()=>clearTimeout(timmer)}));const renderArticle=(index,article)=>(0,jsx_runtime.jsx)(ArticleListItem.i,{target:target,article:article,view:view,className:ArticleList_ArticleList_module.card,onClickBtn:()=>initialArticleIndex?.setIndex(index)},article.id),Footer=(0,react.memo)((()=>isLoading?(0,jsx_runtime.jsx)("div",{className:ArticleList_ArticleList_module.sceleton,children:getSkeletons(view,countSceleton)}):null));if(!isLoading&&!articles.length)return(0,jsx_runtime.jsx)(Text.xv,{title:t("NotFoundArticles")});const ItemSceletonGrid=(0,react.memo)((({index:index})=>(0,jsx_runtime.jsx)(ArticleListItemSceleton,{view:article.GA.SMALL,className:ArticleList_ArticleList_module.itemSceleton},index)));return(0,jsx_runtime.jsx)("div",{className:(0,classNames.A)("",{},[className,ArticleList_ArticleList_module[view]]),children:view===article.GA.BIG?(0,jsx_runtime.jsx)(dist.OO,{endReached:onLoadNextPart,totalCount:articles.length,itemContent:renderArticle,data:articles,initialTopMostItemIndex:initialArticleIndex?.index,components:{Header:Header,Footer:Footer}}):(0,jsx_runtime.jsx)(dist.Mr,{ref:virtuosoGridRef,endReached:onLoadNextPart,data:articles,itemContent:renderArticle,listClassName:ArticleList_ArticleList_module.itemsWrapper,components:{Header:Header,ScrollSeekPlaceholder:ItemSceletonGrid,Footer:Footer},scrollSeekConfiguration:{enter:velocity=>Math.abs(velocity)>400,exit:velocity=>Math.abs(velocity)<15}})})}));try{ArticleList.displayName="ArticleList",ArticleList.__docgenInfo={description:"Отображения списка статей",displayName:"ArticleList",props:{articles:{defaultValue:null,description:"",name:"articles",required:!1,type:{name:"Article[]"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},view:{defaultValue:null,description:"",name:"view",required:!1,type:{name:"enum",value:[{value:'"BIG"'},{value:'"SMALL"'}]}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"HTMLAttributeAnchorTarget"}},Header:{defaultValue:null,description:"",name:"Header",required:!1,type:{name:"FC<{}>"}},onLoadNextPart:{defaultValue:null,description:"",name:"onLoadNextPart",required:!1,type:{name:"(() => void)"}},initialArticleIndex:{defaultValue:null,description:"",name:"initialArticleIndex",required:!1,type:{name:"{ setIndex: (index: number) => void; index: number; }"}},countSceleton:{defaultValue:null,description:"",name:"countSceleton",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/Article/ui/ArticleList/ArticleList.tsx#ArticleList"]={docgenInfo:ArticleList.__docgenInfo,name:"ArticleList",path:"src/entities/Article/ui/ArticleList/ArticleList.tsx#ArticleList"})}catch(__react_docgen_typescript_loader_error){}},"./src/shared/lib/hooks/userInitialEffect/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Q:function(){return _userInitialEffect__WEBPACK_IMPORTED_MODULE_0__.Q}});var _userInitialEffect__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/lib/hooks/userInitialEffect/userInitialEffect.ts")},"./src/shared/lib/hooks/userInitialEffect/userInitialEffect.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Q:function(){return useInitialEffect}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useInitialEffect(callback){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{0}),[])}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/entities/Article/ui/ArticleList/ArticleList.module.scss":function(module,__webpack_exports__,__webpack_require__){var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".src-entities-Article-ui-ArticleList-ArticleList-module__BIG{height:100vh}.src-entities-Article-ui-ArticleList-ArticleList-module__BIG .src-entities-Article-ui-ArticleList-ArticleList-module__card{margin:30px}.src-entities-Article-ui-ArticleList-ArticleList-module__SMALL{height:100vh}.src-entities-Article-ui-ArticleList-ArticleList-module__SMALL .src-entities-Article-ui-ArticleList-ArticleList-module__sceleton{display:flex;flex-wrap:wrap;justify-content:center;gap:20px}.src-entities-Article-ui-ArticleList-ArticleList-module__itemsWrapper{display:flex;flex-wrap:wrap;justify-content:center;gap:20px}.src-entities-Article-ui-ArticleList-ArticleList-module__itemSceleton{display:flex;flex-wrap:wrap;justify-content:center;padding:20px}","",{version:3,sources:["webpack://./src/entities/Article/ui/ArticleList/ArticleList.module.scss"],names:[],mappings:"AAAA,6DACI,YAAA,CAEA,2HACI,WAAA,CAIR,+DACI,YAAA,CAEA,iIACI,YAAA,CACA,cAAA,CACA,sBAAA,CACA,QAAA,CAIR,sEACI,YAAA,CACA,cAAA,CACA,sBAAA,CACA,QAAA,CAGJ,sEACI,YAAA,CACA,cAAA,CACA,sBAAA,CACA,YAAA",sourcesContent:[".BIG {\n    height: 100vh;\n\n    .card {\n        margin: 30px;\n    }\n}\n\n.SMALL {\n    height: 100vh;\n\n    .sceleton {\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: center;\n        gap: 20px;\n    }\n}\n\n.itemsWrapper {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: 20px;\n}\n\n.itemSceleton {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    padding: 20px;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={BIG:"src-entities-Article-ui-ArticleList-ArticleList-module__BIG",card:"src-entities-Article-ui-ArticleList-ArticleList-module__card",SMALL:"src-entities-Article-ui-ArticleList-ArticleList-module__SMALL",sceleton:"src-entities-Article-ui-ArticleList-ArticleList-module__sceleton",itemsWrapper:"src-entities-Article-ui-ArticleList-ArticleList-module__itemsWrapper",itemSceleton:"src-entities-Article-ui-ArticleList-ArticleList-module__itemSceleton"},__webpack_exports__.Z=___CSS_LOADER_EXPORT___}}]);